{"version":3,"sources":["app/Components/shared/apiService.js","app/Components/home/home.jsx","app/Components/summary/summary.jsx","app/Components/top-bar/top-bar.jsx","app/app.jsx","index.js"],"names":["axios","create","baseURL","HomeComponent","props","getUsers","a","Api","get","resp","status","data","user","fullName","firstName","lastName","regularUsers","filter","type","setState","userList","selectedUsers","addPayment","newPayment","amount","paidBy","state","payments","removePayment","idx","item","index","changeAmount","event","target","value","payerUpdate","onSave","members","map","_id","cost","verificationKey","p","post","then","toast","show","severity","summary","detail","catch","err","this","paymentsLength","length","className","options","onChange","e","multiple","optionLabel","listStyle","maxHeight","htmlFor","id","size","onValueChange","placeholder","onClick","icon","label","ref","el","Component","SummaryComponent","getMealSummary","console","log","mealData","dynamicColumns","field","header","col","i","TopBar","leftContents","Fragment","style","textDecoration","to","rightContents","left","right","withRouter","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9890a743.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n  baseURL: `/api`\n});","import React, { Component } from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { ListBox } from \"primereact/listbox\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport { InputText } from \"primereact/inputtext\";\nimport { Toast } from \"primereact/toast\";\nimport Api from \"../shared/apiService\";\n\nclass HomeComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedUsers: null,\n      userList: [],\n      cost: 0,\n      verificationKey: \"c\",\n      payments: [{ amount: 0, paidBy: null }],\n    };\n  }\n  componentDidMount() {\n    this.getUsers();\n  }\n\n  render() {\n    const paymentsLength = this.state.payments.length || 0;\n    return (\n      <div className='p-grid'>\n        <div className='p-col-12 p-md-4'>\n          <h4>Select Participants</h4>\n          <ListBox\n            value={this.state.selectedUsers}\n            options={this.state.userList}\n            onChange={(e) => this.setState({ selectedUsers: e.value })}\n            multiple\n            filter\n            optionLabel='fullName'\n            listStyle={{ maxHeight: \"40vh\" }}\n          />\n        </div>\n        <div className='p-col-12 p-md-8'>\n          <h4>Payment Details</h4>\n          <div className='p-field'>\n            <label htmlFor='cost'>Cost:&nbsp;</label>\n            <InputNumber\n              id='cost'\n              size={12}\n              value={this.state.cost}\n              onValueChange={(e) => this.setState({ cost: e.value })}\n            />\n          </div>\n          <div className='p-grid'>\n            <div className='p-col-6'>Participant</div>\n            <div className='p-col-4'>Paid</div>\n          </div>\n          {this.state.payments.map((p, idx) => {\n            return (\n              <div key={`payment-${idx}`} className='p-grid'>\n                <div className='p-col-6'>\n                  {\" \"}\n                  <Dropdown\n                    value={p.paidBy}\n                    options={this.state.userList}\n                    onChange={(e) => this.payerUpdate(e, idx)}\n                    optionLabel='fullName'\n                    placeholder='Select Participant'\n                  />\n                </div>\n                <div className='p-col-4'>\n                  {\" \"}\n                  <div className='p-field'>\n                    <InputNumber\n                      id='paid'\n                      value={p.amount}\n                      size={5}\n                      onValueChange={(e) => this.changeAmount(e, idx)}\n                    />\n                  </div>\n                </div>\n                <div className='p-col-2'>\n                  <Button\n                    className={\n                      idx === paymentsLength - 1 ? \"\" : \"p-button-danger\"\n                    }\n                    onClick={() => {\n                      idx === paymentsLength - 1\n                        ? this.addPayment()\n                        : this.removePayment(idx);\n                    }}\n                    icon={`pi pi-${\n                      idx === paymentsLength - 1 ? \"plus\" : \"minus\"\n                    }`}\n                  />\n                </div>\n              </div>\n            );\n          })}\n          <div className='p-d-flex p-jc-between p-ai-center'>\n            <div>\n              <label htmlFor='verificationKey'>Key:&nbsp;</label>\n              <InputText\n                id='verificationKey'\n                type='password'\n                size={12}\n                value={this.state.verificationKey}\n                onValueChange={(e) =>\n                  this.setState({ verificationKey: e.value })\n                }\n              />\n            </div>\n            <Button\n              className=''\n              onClick={this.onSave}\n              icon='pi pi-check'\n              label='Save'\n            />\n          </div>\n          <Toast ref={(el) => (this.toast = el)} />\n        </div>\n      </div>\n    );\n  }\n  getUsers = async () => {\n    const resp = await Api.get(\"user\");\n    if (resp.status === 200) {\n      for (const user of resp.data.data) {\n        user.fullName = user.firstName + \" \" + user.lastName;\n      }\n      const regularUsers = resp.data.data.filter(\n        (user) => user.type === \"Regular\"\n      );\n      this.setState({ userList: resp.data.data, selectedUsers: regularUsers });\n    }\n  };\n  addPayment = () => {\n    const newPayment = { amount: 0, paidBy: null };\n    this.setState((state) => ({\n      payments: [...state.payments, newPayment],\n    }));\n  };\n  removePayment = (idx) => {\n    const payments = this.state.payments.filter((item, index) => index !== idx);\n    this.setState((state) => ({\n      payments: payments,\n    }));\n  };\n  changeAmount = (event, idx) => {\n    const payments = this.state.payments;\n    payments[idx].amount = event.target.value;\n    this.setState((state) => ({ payments: payments }));\n  };\n  payerUpdate = (event, idx) => {\n    const payments = this.state.payments;\n    payments[idx].paidBy = event.target.value;\n    this.setState((state) => ({ payments: payments }));\n  };\n\n  onSave = () => {\n    const members = this.state.selectedUsers.map((user) => user._id);\n    const cost = this.state.cost;\n    const verificationKey = this.state.verificationKey;\n    const payments = this.state.payments\n      .filter((p) => p.paidBy != null)\n      .map((p) => {\n        return { amount: p.amount, paidBy: p.paidBy._id };\n      });\n    Api.post(\"meal\", { members, cost, payments, verificationKey })\n      .then((resp) => {\n        this.toast.show({\n          severity: \"success\",\n          summary: \"Success\",\n          detail: \"Record Added\",\n        });\n      })\n      .catch((err) => {\n        this.toast.show({\n          severity: \"error\",\n          summary: \"Error\",\n          detail: \"Request Failed\",\n        });\n      });\n  };\n}\n\nexport default HomeComponent;\n","import React, { Component } from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport {Toast} from 'primereact/toast';\nimport Api from \"../shared/apiService\";\n\nclass SummaryComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        mealData : []\n    };\n  }\n  componentDidMount() {\n      this.getMealSummary();\n  }\n  render() {\n    const columns = [\n      { field: \"fullName\", header: \"Name\" },\n      { field: \"pending\", header: \"Total Bill\" },\n      { field: \"paid\", header: \"Total Paid\" },\n      { field: \"net\", header: \"Net Amount\" },\n    ];\n    const dynamicColumns = columns.map((col, i) => {\n      return <Column key={col.field} field={col.field} header={col.header} />;\n    });\n    return (\n      <div>\n        <div className='card'>\n          <DataTable value={this.state.mealData}>{dynamicColumns}</DataTable>\n        </div>\n        <Toast ref={(el) => this.toast = el} />\n      </div>\n    );\n  }\n  getMealSummary = async()=>{\n    Api.get('meal/summary').then(resp => {\n        console.log(resp.data.data)\n        this.setState({mealData: resp.data.data})\n    }).catch(err => {\n        this.toast.show({severity: 'error', summary: 'Error', detail: 'Request Failed'});\n    })\n  }\n}\n\nexport default SummaryComponent;\n","import React, { Component } from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Toolbar } from \"primereact/toolbar\";\nimport { withRouter } from \"react-router-dom\";\nimport {Link } from \"react-router-dom\";\n\nclass TopBar extends Component {\n  render() {\n    const leftContents = (\n      <React.Fragment>\n        <Link style={{textDecoration:'none'}} to=''>\n          <Button label='Home' icon='pi pi-home' className='p-mr-2' />\n        </Link>\n      </React.Fragment>\n    );\n\n    const rightContents = (\n      <React.Fragment>\n        <Link style={{textDecoration:'none'}}  to='summary'>\n          <Button label='Summary' icon='pi pi-pencil' className='p-mr-2' />\n        </Link>\n      </React.Fragment>\n    );\n\n    return (\n      <div>\n        <Toolbar left={leftContents} right={rightContents} />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(TopBar);\n","import React, { Component} from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom'\nimport HomeComponent from './Components/home/home';\nimport SummaryComponent from './Components/summary/summary';\nimport TopBar from './Components/top-bar/top-bar'\n\nclass App extends Component { \n\n    render() {\n      return (\n        <BrowserRouter>\n            <TopBar />\n            <Route exact path=\"/\" component={HomeComponent} />\n            <Route exact path=\"/summary\" component={SummaryComponent} />\n        </BrowserRouter>\n      );\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/app';\n\nimport 'primereact/resources/themes/saga-blue/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport \"primeflex/primeflex.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}