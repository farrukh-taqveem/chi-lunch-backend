{"version":3,"sources":["app/Components/shared/apiService.js","app/Components/home/home.jsx","app/Components/summary/summary.jsx","app/Components/top-bar/top-bar.jsx","app/app.jsx","index.js"],"names":["axios","create","baseURL","HomeComponent","props","getUsers","a","Api","get","resp","status","data","user","fullName","firstName","lastName","regularUsers","filter","type","setState","userList","selectedUsers","addPayment","newPayment","amount","paidBy","state","payments","changeAmount","event","idx","target","value","payerUpdate","onSave","members","map","_id","cost","p","post","then","toast","show","severity","summary","detail","catch","err","this","className","options","onChange","e","multiple","optionLabel","listStyle","maxHeight","htmlFor","id","onValueChange","placeholder","onClick","icon","label","ref","el","Component","SummaryComponent","getMealSummary","console","log","mealData","dynamicColumns","field","header","col","i","TopBar","leftContents","Fragment","style","textDecoration","to","rightContents","left","right","withRouter","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b39d75eb.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n  baseURL: `/api`\n});","import React, { Component } from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Dropdown } from \"primereact/dropdown\";\nimport { ListBox } from \"primereact/listbox\";\nimport { InputNumber } from \"primereact/inputnumber\";\nimport {Toast} from 'primereact/toast';\nimport Api from \"../shared/apiService\";\n\nclass HomeComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedUsers: null,\n      userList: [],\n      cost: 0,\n      payments: [{ amount: 0, paidBy: null }],\n    };\n  }\n  componentDidMount() {\n    this.getUsers();\n  }\n\n  render() {\n    return (\n      <div className='p-grid'>\n        <div className='p-col-12 p-md-4'>\n          <h4>Select Participants</h4>\n          <ListBox\n            value={this.state.selectedUsers}\n            options={this.state.userList}\n            onChange={(e) => this.setState({ selectedUsers: e.value })}\n            multiple\n            filter\n            optionLabel='fullName'\n            listStyle={{ maxHeight: \"15vw\" }}\n          />\n        </div>\n        <div className='p-col-12 p-md-8'>\n          <h4>Payment Details</h4>\n          <div className='p-field'>\n            <label htmlFor='cost'>Cost:&nbsp;</label>\n            <InputNumber\n              id='cost'\n              value={this.state.cost}\n              onValueChange={(e) => this.setState({ cost: e.value })}\n            />\n          </div>\n          {this.state.payments.map((p, idx) => {\n            return (\n              <div key={`payment-${idx}`} className='p-grid'>\n                <div className='p-col'>\n                  {\" \"}\n                  <Dropdown\n                    value={p.paidBy}\n                    options={this.state.userList}\n                    onChange={(e) => this.payerUpdate(e, idx)}\n                    optionLabel='fullName'\n                    placeholder='Select Participant'\n                  />\n                </div>\n                <div className='p-col'>\n                  {\" \"}\n                  <div className='p-field'>\n                    <label htmlFor='paid'>Paid:&nbsp;</label>\n                    <InputNumber\n                      id='paid'\n                      value={p.amount}\n                      onValueChange={(e) => this.changeAmount(e, idx)}\n                    />\n                  </div>\n                </div>\n                <div className='p-col-3'>\n                  <Button onClick={this.addPayment} icon='pi pi-plus' />\n                </div>\n              </div>\n            );\n          })}\n          <div className='p-d-flex p-jc-end'>\n            <Button\n              className=''\n              onClick={this.onSave}\n              icon='pi pi-check'\n              label='Save'\n            />\n          </div>\n          <Toast ref={(el) => this.toast = el} />\n        </div>\n      </div>\n    );\n  }\n  getUsers = async () => {\n    const resp = await Api.get(\"user\");\n    if (resp.status === 200) {\n      for (const user of resp.data.data) {\n        user.fullName = user.firstName + \" \" + user.lastName;\n      }\n      const regularUsers = resp.data.data.filter(\n        (user) => user.type === \"Regular\"\n      );\n      this.setState({ userList: resp.data.data, selectedUsers: regularUsers });\n    }\n  };\n  addPayment = () => {\n    const newPayment = { amount: 0, paidBy: null };\n    this.setState((state) => ({\n      payments: [...state.payments, newPayment],\n    }));\n  };\n  changeAmount = (event, idx) => {\n    const payments = this.state.payments;\n    payments[idx].amount = event.target.value;\n    this.setState((state) => ({ payments: payments }));\n  };\n  payerUpdate = (event, idx) => {\n    const payments = this.state.payments;\n    payments[idx].paidBy = event.target.value;\n    this.setState((state) => ({ payments: payments }));\n  };\n\n  onSave = () => {\n    const members = this.state.selectedUsers.map((user) => user._id);\n    const cost = this.state.cost;\n    const payments = this.state.payments.filter(p => p.paidBy != null).map((p) => {\n      return { amount: p.amount, paidBy: p.paidBy._id };\n    });\n    Api.post('meal',{members, cost, payments}).then(resp => {\n        this.toast.show({severity: 'success', summary: 'Success', detail: 'Record Added'});\n    }).catch(err => {\n        this.toast.show({severity: 'error', summary: 'Error', detail: 'Request Failed'});\n    })\n  };\n}\n\nexport default HomeComponent;\n","import React, { Component } from \"react\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Column } from \"primereact/column\";\nimport {Toast} from 'primereact/toast';\nimport Api from \"../shared/apiService\";\n\nclass SummaryComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        mealData : []\n    };\n  }\n  componentDidMount() {\n      this.getMealSummary();\n  }\n  render() {\n    const columns = [\n      { field: \"fullName\", header: \"Name\" },\n      { field: \"pending\", header: \"Total Bill\" },\n      { field: \"paid\", header: \"Total Paid\" },\n      { field: \"net\", header: \"Net Amount\" },\n    ];\n    const dynamicColumns = columns.map((col, i) => {\n      return <Column key={col.field} field={col.field} header={col.header} />;\n    });\n    return (\n      <div>\n        <div className='card'>\n          <DataTable value={this.state.mealData}>{dynamicColumns}</DataTable>\n        </div>\n        <Toast ref={(el) => this.toast = el} />\n      </div>\n    );\n  }\n  getMealSummary = async()=>{\n    Api.get('meal/summary').then(resp => {\n        console.log(resp.data.data)\n        this.setState({mealData: resp.data.data})\n    }).catch(err => {\n        this.toast.show({severity: 'error', summary: 'Error', detail: 'Request Failed'});\n    })\n  }\n}\n\nexport default SummaryComponent;\n","import React, { Component } from \"react\";\nimport { Button } from \"primereact/button\";\nimport { Toolbar } from \"primereact/toolbar\";\nimport { withRouter } from \"react-router-dom\";\nimport {Link } from \"react-router-dom\";\n\nclass TopBar extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const leftContents = (\n      <React.Fragment>\n        <Link style={{textDecoration:'none'}} to=''>\n          <Button label='Home' icon='pi pi-home' className='p-mr-2' />\n        </Link>\n      </React.Fragment>\n    );\n\n    const rightContents = (\n      <React.Fragment>\n        <Link style={{textDecoration:'none'}}  to='summary'>\n          <Button label='Summary' icon='pi pi-pencil' className='p-mr-2' />\n        </Link>\n      </React.Fragment>\n    );\n\n    return (\n      <div>\n        <Toolbar left={leftContents} right={rightContents} />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(TopBar);\n","import React, { Component} from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom'\nimport HomeComponent from './Components/home/home';\nimport SummaryComponent from './Components/summary/summary';\nimport TopBar from './Components/top-bar/top-bar'\n\nclass App extends Component {\n    constructor(props) {\n      super(props);\n  }\n    render() {\n      return (\n        <BrowserRouter>\n            <TopBar />\n            <Route exact path=\"/\" component={HomeComponent} />\n            <Route exact path=\"/summary\" component={SummaryComponent} />\n        </BrowserRouter>\n      );\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/app';\n\nimport 'primereact/resources/themes/saga-blue/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport \"primeflex/primeflex.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}